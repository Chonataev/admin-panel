<?php
   require_once("routes.php");
   class Create{
      private $title;
      private $url;
      private $text;
      private $routes;
      private $mysqli;
      function __construct(){

        $this->routes = new Routes();
        $this->mysqli = $this->routes->getConnectDB();
       
      }

      
        function create($arr){
          $title = $arr["title"];
          $url = $arr["url_1"];
          $text = $arr["text"];
          switch($arr["type"]){
            case 'galery':
                  $sql = "INSERT INTO galery (title, url, text)
                  VALUES ('$title', '$url', '$text')";
                  
                  if ($this->mysqli->query($sql) === TRUE) {
                    echo "New record created successfully" . "<br>" . "<a href='galery'>вернуться</a>";
                  } else {
                    echo "Error: "  . $sql . "<br>" . $this->mysqli->error . "<br>" . "<a href='galery'>вернуться</a>";
                  }
                  $this->mysqli->close();
                 break;


            case 'news':
                $sql = "INSERT INTO news (title, url, text)
                VALUES ('$title', '$url', '$text')";
                
                if ($this->mysqli->query($sql) === TRUE) {
                  echo "New record created successfully" . "<br>" . "<a href='news'>вернуться</a>";
                } else {
                  echo "Error: "  . $sql . "<br>" . $this->mysqli->error . "<br>" . "<a href='news'>вернуться</a>";
                }
                $this->mysqli->close();
                break;


            case 'aboutus':
                  $sql = "INSERT INTO about_us (title, url, text)
                  VALUES ('$title', '$url', '$text')";
                  
                  if ($this->mysqli->query($sql) === TRUE) {
                    echo "New record created successfully" . "<br>" . "<a href='aboutus'>вернуться</a>";
                  } else {
                    echo "Error: "  . $sql . "<br>" . $this->mysqli->error . "<br>" . "<a href='aboutus'>вернуться</a>";
                  }
                  $this->mysqli->close();
                 break;


            case 'parents':
                $sql = "INSERT INTO for_ (title, url, text)
                VALUES ('$title', '$url', '$text')";
                
                if ($this->mysqli->query($sql) === TRUE) {
                  echo "New record created successfully" . "<br>" . "<a href='parents'>вернуться</a>";
                } else {
                  echo "Error: "  . $sql . "<br>" .$this->mysqli->error . "<br>" . "<a href='parents'>вернуться</a>";
                }
                $this->mysqli->close();
                break;
            default:
                echo "Error: "  . $sql . "<br>" .$this->mysqli->error . "<br>" . "<a href='parents'>вернуться</a>";
                break;
          }
        }
   }
   
?>
